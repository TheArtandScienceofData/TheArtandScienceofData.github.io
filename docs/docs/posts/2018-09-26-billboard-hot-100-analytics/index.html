<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

  <!--radix_placeholder_meta_tags-->
<title>The Art and Science of Data: Billboard Hot 100 Analytics</title>

<meta property="description" itemprop="description" content="Using Data to Understand The Shift in Popular Music in The Last 60 Years"/>

<link rel="canonical" href="https://TheArtandScienceofData.github.io/posts/2018-09-26-billboard-hot-100-analytics/"/>
<link rel="icon" type="image/png" href="../../assets/logo.png"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2018-09-26"/>
<meta property="article:created" itemprop="dateCreated" content="2018-09-26"/>
<meta name="article:author" content="Rosebud Anwuri"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="The Art and Science of Data: Billboard Hot 100 Analytics"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Using Data to Understand The Shift in Popular Music in The Last 60 Years"/>
<meta property="og:url" content="https://TheArtandScienceofData.github.io/posts/2018-09-26-billboard-hot-100-analytics/"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="The Art and Science of Data"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="The Art and Science of Data: Billboard Hot 100 Analytics"/>
<meta property="twitter:description" content="Using Data to Understand The Shift in Popular Music in The Last 60 Years"/>
<meta property="twitter:url" content="https://TheArtandScienceofData.github.io/posts/2018-09-26-billboard-hot-100-analytics/"/>
<meta property="twitter:site" content="@rosebudanwuri"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Billboard Hot 100 Analytics"]},{"type":"character","attributes":{},"value":["Using Data to Understand The Shift in Popular Music in The Last 60 Years"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Rosebud Anwuri"]},{"type":"character","attributes":{},"value":["https://example.com/norajones"]}]}]},{"type":"character","attributes":{},"value":["09-26-2018"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["https://TheArtandScienceofData.github.io/posts/2018-09-26-billboard-hot-100-analytics/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["billboard-hot-100-analytics_files/billboard-1.5.1/billboard.min.css","billboard-hot-100-analytics_files/billboard-1.5.1/billboard.min.js","billboard-hot-100-analytics_files/billboarder-binding-0.2.3/billboarder.js","billboard-hot-100-analytics_files/billboarder-binding-0.2.3/billboarder.yaml","billboard-hot-100-analytics_files/billboarder-binding-0.2.3/lib/billboard-1.4.1/billboard.min.css","billboard-hot-100-analytics_files/billboarder-binding-0.2.3/lib/billboard-1.4.1/billboard.min.js","billboard-hot-100-analytics_files/billboarder-binding-0.2.3/lib/billboard-1.5.1/billboard.min.css","billboard-hot-100-analytics_files/billboarder-binding-0.2.3/lib/billboard-1.5.1/billboard.min.js","billboard-hot-100-analytics_files/billboarder-binding-0.2.3/lib/D3-5.1.0/d3.v5.min.js","billboard-hot-100-analytics_files/bowser-1.9.3/bowser.min.js","billboard-hot-100-analytics_files/D3-5.1.0/d3.v5.min.js","billboard-hot-100-analytics_files/distill-2.2.21/template.v2.js","billboard-hot-100-analytics_files/fontawesome-4.5.0/font-awesome.min.css","billboard-hot-100-analytics_files/fontawesome-4.5.0/fonts/fontawesome-webfont.eot","billboard-hot-100-analytics_files/fontawesome-4.5.0/fonts/fontawesome-webfont.svg","billboard-hot-100-analytics_files/fontawesome-4.5.0/fonts/fontawesome-webfont.ttf","billboard-hot-100-analytics_files/fontawesome-4.5.0/fonts/fontawesome-webfont.woff","billboard-hot-100-analytics_files/fontawesome-4.5.0/fonts/fontawesome-webfont.woff2","billboard-hot-100-analytics_files/fontawesome-4.5.0/fonts/FontAwesome.otf","billboard-hot-100-analytics_files/highchart-binding-0.5.0/highchart.js","billboard-hot-100-analytics_files/highchart-binding-0.7.0/highchart.js","billboard-hot-100-analytics_files/highcharts-5.0.6/css/motion.css","billboard-hot-100-analytics_files/highcharts-5.0.6/custom/reset.js","billboard-hot-100-analytics_files/highcharts-5.0.6/custom/symbols-extra.js","billboard-hot-100-analytics_files/highcharts-5.0.6/custom/text-symbols.js","billboard-hot-100-analytics_files/highcharts-5.0.6/highcharts-3d.js","billboard-hot-100-analytics_files/highcharts-5.0.6/highcharts-more.js","billboard-hot-100-analytics_files/highcharts-5.0.6/highcharts.js","billboard-hot-100-analytics_files/highcharts-5.0.6/highstock.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/accessibility.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/annotations.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/boost.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/broken-axis.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/canvas-tools.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/data.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/drilldown.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/exporting.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/funnel.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/heatmap.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/map.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/no-data-to-display.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/offline-exporting.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/solid-gauge.js","billboard-hot-100-analytics_files/highcharts-5.0.6/modules/treemap.js","billboard-hot-100-analytics_files/highcharts-5.0.6/plugins/annotations.js","billboard-hot-100-analytics_files/highcharts-5.0.6/plugins/draggable-legend.js","billboard-hot-100-analytics_files/highcharts-5.0.6/plugins/draggable-points.js","billboard-hot-100-analytics_files/highcharts-5.0.6/plugins/export-csv.js","billboard-hot-100-analytics_files/highcharts-5.0.6/plugins/grouped-categories.js","billboard-hot-100-analytics_files/highcharts-5.0.6/plugins/motion.js","billboard-hot-100-analytics_files/highcharts-5.0.6/plugins/pattern-fill-v2.js","billboard-hot-100-analytics_files/highcharts-5.0.6/plugins/tooltip-delay.js","billboard-hot-100-analytics_files/highcharts-7.0.1/css/htmlwdgtgrid.css","billboard-hot-100-analytics_files/highcharts-7.0.1/css/motion.css","billboard-hot-100-analytics_files/highcharts-7.0.1/custom/reset.js","billboard-hot-100-analytics_files/highcharts-7.0.1/custom/symbols-extra.js","billboard-hot-100-analytics_files/highcharts-7.0.1/custom/text-symbols.js","billboard-hot-100-analytics_files/highcharts-7.0.1/highcharts-3d.js","billboard-hot-100-analytics_files/highcharts-7.0.1/highcharts-custom.js","billboard-hot-100-analytics_files/highcharts-7.0.1/highcharts-more.js","billboard-hot-100-analytics_files/highcharts-7.0.1/highcharts.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/accessibility.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/annotations-advanced.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/annotations.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/arrow-symbols.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/boost-canvas.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/boost.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/broken-axis.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/bullet.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/current-date-indicator.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/cylinder.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/data.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/debugger.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/drag-panes.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/draggable-points.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/drilldown.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/export-data.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/exporting.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/full-screen.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/funnel.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/gantt.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/grid-axis.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/heatmap.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/histogram-bellcurve.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/item-series.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/map.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/networkgraph.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/no-data-to-display.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/offline-exporting.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/oldie-polyfills.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/oldie.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/overlapping-datalabels.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/parallel-coordinates.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/pareto.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/pathfinder.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/pattern-fill.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/price-indicator.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/sankey.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/series-label.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/solid-gauge.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/sonification.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/static-scale.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/stock-tools.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/stock.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/streamgraph.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/sunburst.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/tilemap.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/timeline.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/treegrid.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/treemap.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/variable-pie.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/variwide.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/vector.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/venn.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/windbarb.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/wordcloud.js","billboard-hot-100-analytics_files/highcharts-7.0.1/modules/xrange.js","billboard-hot-100-analytics_files/highcharts-7.0.1/plugins/draggable-legend.js","billboard-hot-100-analytics_files/highcharts-7.0.1/plugins/grouped-categories.js","billboard-hot-100-analytics_files/highcharts-7.0.1/plugins/highcharts-regression.js","billboard-hot-100-analytics_files/highcharts-7.0.1/plugins/motion.js","billboard-hot-100-analytics_files/highcharts-7.0.1/plugins/multicolor_series.js","billboard-hot-100-analytics_files/highcharts-7.0.1/plugins/pattern-fill-v2.js","billboard-hot-100-analytics_files/highcharts-7.0.1/plugins/tooltip-delay.js","billboard-hot-100-analytics_files/htmlwdgtgrid-1/htmlwdgtgrid.css","billboard-hot-100-analytics_files/htmlwidgets-1.2/htmlwidgets.js","billboard-hot-100-analytics_files/htmlwidgets-1.3/htmlwidgets.js","billboard-hot-100-analytics_files/jquery-1.11.3/jquery.min.js","billboard-hot-100-analytics_files/proj4js-2.3.15/proj4.js","billboard-hot-100-analytics_files/webcomponents-2.0.0/webcomponents.js","dashboard.png","dashboard2.png","features_dataset.csv","genre_avg.png","genre_band.png","genre_change.png","hiphop_article.png","loudness_genre.png","music_df - tableau.csv","music_df.csv","new_music.mp4","old_music.mp4","topic_dataset.csv","topic_model.png","topic_model2.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #455a64;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative;}
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

</style>

<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for table of contents */

.d-toc {
  color: rgba(0,0,0,0.8);
  font-size: 0.8em;
  line-height: 1em;
}

.d-toc-header {
  font-size: 0.6rem;
  font-weight: 400;
  color: rgba(0, 0, 0, 0.5);
  text-transform: uppercase;
  margin-top: 0;
  margin-bottom: 1.3em;
}

.d-toc a {
  border-bottom: none;
}

.d-toc ul {
  padding-left: 0;
}

.d-toc li>ul {
  padding-top: 0.8em;
  padding-left: 16px;
  margin-bottom: 0.6em;
}

.d-toc ul,
.d-toc li {
  list-style-type: none;
}

.d-toc li {
  margin-bottom: 0.9em;
}

.d-toc-separator {
  margin-top: 20px;
  margin-bottom: 2em;
}

.d-article-with-toc {
  border-top: none;
  padding-top: 0;
}



/* Tweak code blocks (note that this CSS is repeated above in an injection
   into the d-code shadow dom) */

d-code {
  overflow-x: auto !important;
}

pre.d-code code.d-code {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

pre.text-output {

  font-size: 12px;
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

@media(min-width: 768px) {

d-code {
  overflow-x: visible !important;
}

pre.d-code code.d-code  {
    padding-left: 18px;
    font-size: 14px;
}
pre.text-output {
  font-size: 14px;
}
}

/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}



/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}


/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // create d-bibliography
  var bibliography = $('<d-bibliography></d-bibliography>');
  $('#distill-bibliography').wrap(bibliography);

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace citations with <d-cite>
  $('.citation').each(function(i, val) {
    appendix = true;
    var cites = $(this).attr('data-cites').split(" ");
    var dt_cite = $('<d-cite></d-cite>');
    dt_cite.attr('key', cites.join());
    $(this).replaceWith(dt_cite);
  });
  // remove refs
  $('#refs').remove();

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-toc a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // replace code blocks with d-code
  $('pre>code').each(function(i, val) {
    var code = $(this);
    var pre = code.parent();
    var clz = "";
    var language = pre.attr('class');
    if (language) {
      // map unknown languages to "clike" (without this they just dissapear)
      if ($.inArray(language, ["bash", "clike", "css", "go", "html",
                               "javascript", "js", "julia", "lua", "markdown",
                               "markup", "mathml", "python", "svg", "xml"]) == -1)
        language = "clike";
      language = ' language="' + language + '"';
      var dt_code = $('<d-code block' + language + clz + '></d-code>');
      dt_code.text(code.text());
      pre.replaceWith(dt_code);
    } else {
      code.addClass('text-output').unwrap().changeElementType('pre');
    }
  });

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('d-code, pre.text-output, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // table of contents
    if (have_authors) // adjust border if we are in authors
      $('.d-toc').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // inject pre code styles (can't do this with a global stylesheet b/c a shadow root is used)
    $('d-code').each(function(i, val) {
      var style = document.createElement('style');
      style.innerHTML = 'pre code { padding-left: 10px; font-size: 12px; border-left: 2px solid rgba(0,0,0,0.1); } ' +
                        '@media(min-width: 768px) { pre code { padding-left: 18px; font-size: 14px; } }';
      if (this.shadowRoot)
        this.shadowRoot.appendChild(style);
    });

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-toc-header').remove();
  $('.d-toc').remove();
  $('.d-toc-separator').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/proj4js-2.3.15/proj4.js"></script>
  <link href="../../site_libs/highcharts-7.0.1/css/motion.css" rel="stylesheet" />
  <link href="../../site_libs/highcharts-7.0.1/css/htmlwdgtgrid.css" rel="stylesheet" />
  <script src="../../site_libs/highcharts-7.0.1/highcharts.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/highcharts-3d.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/highcharts-more.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/stock.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/map.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/annotations.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/boost.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/data.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/drag-panes.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/drilldown.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/item-series.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/offline-exporting.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/overlapping-datalabels.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/exporting.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/export-data.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/funnel.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/heatmap.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/treemap.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/sankey.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/solid-gauge.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/streamgraph.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/sunburst.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/vector.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/wordcloud.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/xrange.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/tilemap.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/venn.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/gantt.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/timeline.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/modules/parallel-coordinates.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/plugins/grouped-categories.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/plugins/motion.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/plugins/multicolor_series.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/custom/reset.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/custom/symbols-extra.js"></script>
  <script src="../../site_libs/highcharts-7.0.1/custom/text-symbols.js"></script>
  <script src="../../site_libs/highchart-binding-0.7.0/highchart.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120214141-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-120214141-1');
</script>
<style type="text/css">
@import url('https://fonts.googleapis.com/css?family=Raleway');
.radix-site-nav {
  
  background-color: #58B19F;
      color: rgba(255, 255, 255, 1);
  
}
.btn:focus, .btn-large:focus, .btn-small:focus, .btn-floating:focus {
    background-color: #1d7d74;
	text-transform:white;
}
.waves-effect {
    position: relative;
    cursor: pointer;
    display: inline-block;
    overflow: hidden;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    vertical-align: middle;
    z-index: 1;
    -webkit-transition: .3s ease-out;
    transition: .3s ease-out;
}
.btn, .btn-large, .btn-small {
	font-size: 14px;
	border: none;
    border-radius: 2px;
	height: 36px;
    line-height: 36px;
    padding: 0 16px;
    text-decoration: none;
    color: #fff;
    background-color: #26a69a;
    text-align: center;
    letter-spacing: .5px;
    -webkit-transition: background-color .2s ease-out;
    transition: background-color .2s ease-out;
    cursor: pointer;
}
button, html [type="button"], [type="reset"], [type="submit"] {
    -webkit-appearance: button;
}
::selection {
  background: #f78fb3; /* WebKit/Blink Browsers */
  color:white;
}
::-moz-selection {
  background: #f78fb3;  /* Gecko Browsers */
  color:white;
}
body{
	/* background:url('assets/background.jpg');
	background-size:cover;
	background-position: center;
    background-size: cover; */
	font-family:'Raleway';
}
d-title h1{
	font-weight: normal;
}
d-title h1,d-title p{
	text-transform:uppercase;
	text-align: center;
	grid-column: screen;
}
d-article>p {
    text-align: left;
}
#record-scratch,#freeze-frame{
	text-align:center;
	margin-top:1em;
}

d-article>div>p>img {
        border-radius: 300px;
    width: 300px;
    height: 300px;
}

</style>
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Billboard Hot 100 Analytics","description":"Using Data to Understand The Shift in Popular Music in The Last 60 Years","authors":[{"author":"Rosebud Anwuri","authorURL":"https://example.com/norajones","affiliation":"&nbsp;","affiliationURL":"#"}],"publishedDate":"2018-09-26T00:00:00.000+01:00","citationText":"Anwuri, 2018"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">The Art and Science of Data</a>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="../../index.xml">
<i class="fa fa-rss"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Billboard Hot 100 Analytics</h1>
<p>Using Data to Understand The Shift in Popular Music in The Last 60 Years</p>
</div>

<div class="d-byline">
  Rosebud Anwuri <a href="https://example.com/norajones" class="uri">https://example.com/norajones</a> 
  
<br/>09-26-2018
</div>

<div class="d-article">
<style>
@import url('https://fonts.googleapis.com/css?family=Raleway');
div{
font-family:Raleway;
}
h2{
    border-bottom: none;
}
tspan,text{
font-family:Raleway !important;
font-weight:normal
}
</style>
<div>
<p>What’s the most common thing you hear from “older” people about the popular modern music? The general theme is: “Your music is too loud and lacks content”. They talk about the “old” days with the meaningful songs, the soulful artistes, the deep bass guitars that can move you to tears. When they say that, they are comparing this:</p>
<video width="320" height="240" controls>
<source src="old_music.mp4" type="video/mp4">
</video>
<p>To this:</p>
<video width="320" height="240" controls>
<source src="new_music.mp4" type="video/mp4">
</video>
<p>There’s a clear difference, obviously. However, this will be taking one data point to make a general conclusion (which humans are very good at). I, being a millennial and a Data Scientist, found this an interesting topic to poke at. Has what makes music “great” really changed that much? Has the sound, the lyrics and the “message” changed? And if they have changed, how exactly have they changed?</p>
Using Billboard’s Hot 100 charts from 1950–2015 and Spotify’s API, we want to take a closer look at how much popular music has changed in the past six decades and find out what really distinguishes the music of today from the rest.
</div>
<h2 id="my-approach">My Approach</h2>
<p>For this post, I define “great music” as making it into the Billboard’s Hot 100. I got the <a href="https://github.com/kevinschaich/billboard-top-100-lyrics/tree/master/data/years">data</a> from a generous GitHub user Keven Schaich. The data contains a lot of interesting features like Sentiment, Gunning fog index (which estimates the number of years of formal education needed to understand a text at first reading), Number of words, Number of repetitive words/phrases etc.</p>
<p>In addition, Spotify has an interesting API endpoint called <a href="https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features">get_audio_features</a>. The endpoint allows you to get song features like loudness, Instrumentalness (how much instruments are used), energy, liveness (the presence of a live audience), Speechiness, song duration etc. This brings the total song features to about 30 for Billboard’s Hot 100 between 1950 and 2015.</p>
<p>All these features are explained <a href="https://github.com/kevinschaich/billboard-top-100-lyrics">here</a> and <a href="https://developer.spotify.com/documentation/web-api/reference/tracks/get-audio-features/">here</a> and I will also explain some as we progress in the post.</p>
<p>Initially, I set out to use Python for this project and I did. Kinda. I had my first iteration of data collection all done with Python’s <a href="https://pandas.pydata.org/">pandas</a> and a python package called <a href="http://spotipy.readthedocs.io/en/latest/">spotipy</a>.</p>
<p>Along the line, however, I reviewed my methodology and found a more interesting dataset. For this, I went back to R specifically because of the tidyr::gather() function (it’s so annoying pivoting data in pandas jeez).</p>
<p>Here’s the code in <a href="https://github.com/RosebudAnwuri/TheArtandScienceofData/blob/master/The%20Making%20of%20Great%20Music/scripts/music_sentiment.R">R</a> and <a href="https://github.com/RosebudAnwuri/TheArtandScienceofData/blob/master/The%20Making%20of%20Great%20Music/scripts/music_sentiment.py">Python</a> which are different in most ways except a function called <em>get_audio_features</em>. My final <a href="https://github.com/RosebudAnwuri/TheArtandScienceofData/tree/master/The%20Making%20of%20Great%20Music/data">dataset</a> can be found here.</p>
<p>The amount of time I spent on data gathering is in sharp contrast with my other projects because, unlike my other projects, someone took the time to put a ready-to-use dataset together. This is a major reason why I share all the data I gather so hopefully, someone out there won’t spend 6 weeks on trying to gather data.</p>
<p>Let’s begin!</p>
<h2 id="in-the-past-sixty-years-we-have-had-only-two-major-changes-in-music">1. In the past sixty years, we have had only two major changes in music</h2>
<p>By using an algorithm called <a href="https://www.analyticsvidhya.com/blog/2016/11/an-introduction-to-clustering-and-different-methods-of-clustering/">clustering</a>, we can find similarities/clusters of artistes and their music using their song features.</p>
<p>Using this approach, we have two clusters of artistes - <strong>The String Lovers</strong> and <strong>The Poetics</strong>. The reason we chose these weird names lies in the two song features that define these clusters best: <strong>Instrumentalness and Speechiness.</strong></p>
<p>Instrumentalness predicts whether a track contains no vocals on a scale of 0 to 1. “Ooh” and “aah” sounds are treated as instrumentals as well. The closer the value is to 1, the more likely there is no vocal content (e.g. a soundtrack) and the closer it is to zero, the more vocal it is (e.g. rap or spoken word).</p>
<p>Speechiness detects the presence of spoken words in a track.</p>
<ul>
<li><p>The String Lovers score high on Instrumentalness but low Speechiness. This means that artistes in this period tend to favor instruments as opposed to speech.</p></li>
<li><p>The Poetics are the direct opposite. They score pretty high in Speechiness but very low on Instrumentalness.</p></li>
</ul>
<div style="text-align:center;">
<p>preserveabd8fda14785a5dc</p>
</div>
<div style="text-align:center;">
<p>preserve57f4934dabc885d9</p>
</div>
<p>The other interesting thing about these clusters is when they appear on the Billboards Hot 100.</p>
<ul>
<li><p>Most String Lovers appeared on Billboard before the 1990s.</p></li>
<li><p>Most Poetics appeared on Billboard after the 1990s.</p></li>
</ul>
<div style="text-align:center;">
<p>preservec05449ee544ed920</p>
</div>
<ul>
<li>The 90s itself seemed to be a pivotal time in music as we see with the ~50–50 split between String Lovers and Poetics. This meant that artistes were split between going with this new type of music or sticking to the existing sound.</li>
</ul>
<h2 id="the-use-of-instruments-dropped-mostly-because-rock-bands-became-less-popular">2. The use of instruments dropped mostly because rock bands became less popular</h2>
<p>
Between the late ’60s and the early 2000s, bands were so popular that there were as many bands as solo artistes.
</p>
<p>
Before the 2000s, the more bands there were in a year, the higher the average Instrumentalness in that year.
</p>
<div style="text-align:center;">
<p>preserve49eab023f3a7581b</p>
</div>
<p>
However, after the 90s, the number of bands had little or no effect on the use of instruments.
</p>
<div style="text-align:center;">
<p>preserve3d2e1e79db6f99b1</p>
</div>
<p>
Except the two outliers, the number of bands had virtually no effect on the use of instruments. This is interesting because, like I mentioned earlier, bands were still popular in the early 2000s.
</p>
<p>
So, what happened?
</p>
<p>
I’m sure you guessed it. The TYPE of bands changed.
</p>
<p><img src="genre_band.png" /></p>
<p>
Before the 90s, about 60% of bands were rock bands—the types typically with one lead singer and a bunch of instrumentalists.!
</p>
<p>
However, from the 2000s to present day, the percentage of rock bands dropped significantly making way for a new brand of bands which were generally made up of ALL singers: Pop bands. Think Destiny’s Child, Pussycat Dolls, Fifth Harmony, One Direction—you name it!
</p>
<h2 id="we-might-also-owe-the-emergence-of-poetics-to-the-rise-of-hip-hop">3. We might also owe the emergence of Poetics to the rise of Hip-Hop</h2>
<p>
Apart from the increase in Speechiness and use of words, Poetics use two-times more complex words (e.g. Jay-Z saying opulence instead of wealth) than String Lovers and use words with more syllables. One genre immediately pops into everyone’s mind when we think of word-bending artistes: Hip-Hop.
</p>
preservedb9e986f8765b7d2
<p>
Seeing as Hip-Hop tops all other genres in word-related features, it comes as no surprise that <a href="https://en.wikipedia.org/wiki/Hip_hop_music#Mainstream_breakthrough">Hip-Hop gained mainstream popularity</a> in the 90s — corresponding to the rise of The Poetics.
</p>
<p><img src="hiphop_article.png" /></p>
<h2 id="while-the-style-of-music-has-changed-a-lot-over-time-popular-songs-for-the-past-sixty-years-have-been-mostly-about-loving-women">4. While the style of music has changed a lot over time, popular songs for the past sixty years have been mostly about loving women</h2>
<p>
To arrive at this, I used an algorithm called <a href="https://www.analyticsvidhya.com/blog/2016/08/beginners-guide-to-topic-modeling-in-python/">topic modeling</a>. As the name implies, the algorithm searches for topics in a given text.
</p>
<p>
In our case, the text are lyrics from billboard songs.
</p>
<p>
Let’s see how these topics change over the decades:
</p>
<p><img src="topic_model.png" /></p>
<p>
This is absolutely amazing!
</p>
<p>
Like the features of songs, song lyrics also fall clearly into two buckets with Topic 1 capturing ’50s to ’80s, Topic 2 capturing the decades after the ’90s and the ’90s as a transition period!
</p>
<p>
This means that the sound and “message” of songs changed at pretty much the same rate.
</p>
<p>
So, what are these topics?
</p>
<p><img src="topic_model2.png" /></p>
<p>
The topics are almost the same thing! Top songs have disproportionately been, for the past sixty years, “Yeah, I love my baby”.
</p>
<p>
There’s also something interesting going on here. A major difference between both topics is that before the 90s, songs might have had a more “direct” approach — you can see that a major topic is “gonna” e.g. “I’m gonna love you”. While after the 90s, it seemed a bit more indirect, like asking for permission hence replacing “gonna” for “wanna”. “Wanna” could also depict a more futuristic, imaginative approach to loving women.
</p>
<h2 id="the-more-quiet-genres-ceased-to-exist-in-the-poetic-era">5. The more “quiet” genres ceased to exist in the Poetic Era</h2>
<p>
This sort of confirms that we tend to prefer louder music now than before.
</p>
<p><img src="loudness_genre.png" /></p>
<p>
The five most “quiet” genres are — Jazz, Swing, Folk, Blues and Disco.
</p>
<p>
These genres also ceased to exist as popular music in the Poetic Era except Jazz which seemed to survive by one artiste (Norah Jones).
</p>
<p><img src="genre_change.png" /></p>
<h2 id="what-do-these-all-mean">What do these all mean?</h2>
<p>
In summary:
</p>
<ul>
<li><p>The 90s was an extremely important time in music.</p></li>
<li><p>The decline of rock bands and the rise of Hip-Hop played a major role in steering music to where it is today.</p></li>
<li><p>Love is a popular theme across songs for the past six decades but the approach to love might differ across the different eras of music. Yes, modern artistes may be louder but it’s BECAUSE we have content :).</p></li>
<li><p>Bonus Point: Michael Jackson, despite being most popular in the 80s, is a Poetic! He was ahead of his time!</p></li>
</ul>
<h2 id="fun-stuff-and-things-to-keep-in-mind">Fun Stuff and Things to Keep in Mind</h2>
<ul>
<li>I took a different (and more fun) approach to showcasing the data for this project. I built a dashboard using HTML, CSS, js and chart.js! The app is not (yet) optimized for mobile so, it’s best to use it on a laptop.</li>
</ul>
<p>
Here’s the link: <a href="http://bit.ly/music-dashboard" class="uri">http://bit.ly/music-dashboard</a>
</p>
<p>*The dashboard has two tabs. The first one “Artist Dashboard”, shows you the average song features for individual artistes.</p>
<p><img src="dashboard.png" /></p>
<ul>
<li>The second tab “Comparison Dashboard” allows you to compare song features for up to three artistes and looks like the screenshot below.</li>
</ul>
<p><img src="dashboard2.png" /></p>
<p>*You can share the results on Twitter or Facebook using the icons at the top right.</p>
<ul>
<li><p>Just in case you forget what the features mean, hover over the title and you’d get a little tool-tip explaining it 🙂</p></li>
<li><p>The Poetic era (as I like to call it) is an ongoing era so some of these insights may change if we had 2016 to 2018 data (especially with the rise of trap music). However, I don’t expect the effects to be much.</p></li>
<li><p>It would be interesting to measure how “politically-aware” a song is.</p></li>
<li><p>I will probably post the outcome of that on Twitter.</p></li>
<li><p>As usual, I am constrained by data collection methods of the generous GitHub user, Spotify’s algorithm and how Billboard arrives at the Hot 100.</p></li>
</ul>
<p>
Hope you had as much fun reading this as I had creating this 🙂
</p>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="disqus-comments">
      <i class="fas fa-comments"></i>
      &nbsp;
      <span class="disqus-comment-count" data-disqus-identifier="posts/2018-09-26-billboard-hot-100-analytics/">Comment on this article</span>
    </span>
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Billboard%20Hot%20100%20Analytics&amp;url=https%3A%2F%2FTheArtandScienceofData.github.io%2Fposts%2F2018-09-26-billboard-hot-100-analytics%2F">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2FTheArtandScienceofData.github.io%2Fposts%2F2018-09-26-billboard-hot-100-analytics%2F&amp;title=Billboard%20Hot%20100%20Analytics">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2FTheArtandScienceofData.github.io%2Fposts%2F2018-09-26-billboard-hot-100-analytics%2F">
        <i class="fab fa-facebook"></i>
      </a>
    </span>
  </p>
  <script id="dsq-count-scr" src="https://art-and-science-of-data.disqus.com/count.js" async></script>
  <div id="disqus_thread" class="hidden"></div>
  <script>
var disqus_config = function () {
  this.page.url = 'https://TheArtandScienceofData.github.io/posts/2018-09-26-billboard-hot-100-analytics/';
  this.page.identifier = 'posts/2018-09-26-billboard-hot-100-analytics/';
};
(function() {
  var d = document, s = d.createElement('script');
  s.src = 'https://art-and-science-of-data.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script>
  <p>
    <div class="subscribe"><link rel="stylesheet" href="animate.min.css">
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css"> -->
<form method='post' action='https://blogtrottr.com'>
  <p>Enjoy this blog? Get notified of new posts via email:</p>
  <input type='text' name='btr_email' />
  <input type='hidden' name='btr_url'
         value='https://TheArtandScienceofData.github.io/index.xml'/>
  <input type='hidden' name='schedule_type' value='0' />
 <!--  <input type='submit' class="btn waves-effect waves-light white-text"  value='Subscribe' /> -->
 <div class="animated pulse infinite" style="margin-top:0.5em;">
  <button class="btn waves-effect waves-light" type="submit" style="color: white;text-transform:uppercase;" name="action">Subscribe
   
  </button>
  </div>
</form>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script> --></div>
  </p>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
